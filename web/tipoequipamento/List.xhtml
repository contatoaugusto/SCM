<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:pe="http://primefaces.org/ui/extensions"
    template="/templates/Template.xhtml">

<ui:define name="metadata"/>
<ui:define name="content">
    <h:body style="font-size:small;padding:0px;">
        <p:fieldset id="fieldset_consulta_prontuario" legend="Tipo de Equipamento">
            <h:form id="formConsultarTipoEquipamento">

<!--                <p:dataTable id="dataTable_consultar_prontuario" value="#{tratamentoController.items}" var="tratamento" 
                emptyMessage="#{mensagem['datatable.empty']}" paginator="true" paginatorPosition="bottom" 
                resizableColumns="true" rows="50" rowKey="#{tratamento.idprontuario}" selectionMode="single">

                            <p:column headerText="Paciente" sortBy="#{tratamento.prontuario.idPaciente.idPessoa.nmPessoa}">
                                    <p:outputLabel value="#{tratamento.prontuario.idPaciente.idPessoa.nmPessoa}" />
                            </p:column>

                            <p:column headerText="#{rotulo['tratamento.tipo_de_tratamento']}" sortBy="#{tratamento.idtratamentotipo}">
                                    <p:outputLabel value="#{tratamento.idtratamentotipo == 1 ? 'Ambulatorial' : 'Internação'}" />
                            </p:column>


                            <p:column headerText="#{rotulo['tratamento.status_do_tratamento']}" sortBy="#{tratamento.tratamentoStatus.nmtratamentostatus}">
                                    <p:outputLabel value="#{tratamento.tratamentoStatus.nmtratamentostatus}" />
                            </p:column>
             						<p:column headerText="#{rotulo['tratamento.status_do_tratamento']}" sortBy="#{tratamento.tratamentoStatus.nmtratamentostatus}"> 
             							<p:outputLabel value="#{tratamento.idtratamentostatus == 1 ? 'Em Andamento' :  
             													tratamento.idtratamentostatus == 2 ? 'Interrompido' :  
             													tratamento.idtratamentostatus == 3 ? 'Concluido' : 
             													tratamento.idtratamentostatus == 4 ? 'Desistência' : 
             													tratamento.idtratamentostatus == 5 ? 'Afastado' : ' - '}" /> 
             						</p:column> 

                            <p:column headerText="Início" sortBy="#{tratamento.dtinclusao}">
                                    <h:outputText value="#{tratamento.dtinclusao}" >
                                            <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                            </p:column>
                            <p:column headerText="Fim" sortBy="#{tratamento.dttratamentofim}">
                                    <h:outputText value="#{tratamento.dttratamentofim}" >
                                            <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                            </p:column>

                            <p:column headerText="#{rotulo['generico.acoes']}">
             						 	<p:commandButton id="button_editar_tratamento" action="tratamentoController.prepareEdit" icon="ui-icon-pencil" value="Consultar"/> 
                                    <h:commandLink action="#{tratamentoController.prepareEdit}">
                                            <p:graphicImage value="/resources/images/consultar.png"/>
                                    </h:commandLink>
                            </p:column>
                    </p:dataTable>
            </h:form>
             Button 
            <br/>
            <div class="button-voltar">
            <p:commandButton id="button_voltar" value="#{rotulo['generico.voltar']}" action="/pages/manterprontuario/consultar?faces-redirect=true" immediate="true" icon="ui-icon-arrowreturnthick-1-w" />
            </div>-->
                
                

                <h:panelGroup id="messagePanel" layout="block">
                    <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
                </h:panelGroup>
                <h:outputText escape="false" value="#{bundle.ListTipoequipamentoEmpty}" rendered="#{tipoequipamentoController.items.rowCount == 0}"/>
                <h:panelGroup rendered="#{tipoequipamentoController.items.rowCount > 0}">
                    <h:outputText value="#{tipoequipamentoController.pagination.pageFirstItem + 1}..#{tipoequipamentoController.pagination.pageLastItem + 1}/#{tipoequipamentoController.pagination.itemsCount}"/>&nbsp;
                    <h:commandLink action="#{tipoequipamentoController.previous}" value="#{bundle.Previous} #{tipoequipamentoController.pagination.pageSize}" rendered="#{tipoequipamentoController.pagination.hasPreviousPage}"/>&nbsp;
                    <h:commandLink action="#{tipoequipamentoController.next}" value="#{bundle.Next} #{tipoequipamentoController.pagination.pageSize}" rendered="#{tipoequipamentoController.pagination.hasNextPage}"/>&nbsp;
                    <p:dataTable value="#{tipoequipamentoController.items}" var="item">
                        <p:column width="100">
                            <f:facet name="header">
                                <h:outputText value="Id"/>
                            </f:facet>
                            <h:outputText value="#{item.idTipoEquipamento}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="Nome"/>
                            </f:facet>
                            <h:outputText value="#{item.txTipoEquipamento}"/>
                        </p:column>
                        <p:column headerText="Ações" width="100">
                            <h:commandLink action="#{tipoequipamentoController.prepareEdit}" >
                                <p:graphicImage value="/resources/images/search-icon.png" title="Visualizar" />
                            </h:commandLink>
                                
                            <h:commandLink action="#{tipoequipamentoController.prepareEdit}">
                                <p:graphicImage value="/resources/images/Text-Edit-icon.png" title="Editar"/>
                            </h:commandLink>
                            <h:commandLink action="#{tipoequipamentoController.destroy}" >
                                <p:graphicImage value="/resources/images/database-delete-icon.png" title="Deletar"/>
                            </h:commandLink>
                        </p:column>
                    </p:dataTable>
                </h:panelGroup>
                
                <br />
                <p:commandButton id="button_incluinovoTipoEquipamento" 
                    action="#{tipoequipamentoController.prepareCreate}" 
                    icon="ui-icon-folder-open" 
                    value="Novo Tipo Equipamento"/>
                
            </h:form>
        </p:fieldset>
        </h:body>

        </ui:define>
    </ui:composition>
