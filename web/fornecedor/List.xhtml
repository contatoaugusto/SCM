<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:pe="http://primefaces.org/ui/extensions"
    template="/templates/Template.xhtml">

    <ui:define name="metadata"/>
    <ui:define name="content">
        <h:body style="font-size:small;padding:0px;">
            <p:fieldset id="fieldset_lista" legend="Fornecedor">
                <h:form id="formLista">
                    <h:panelGroup rendered="#{fornecedorController.items.rowCount > 0}">
                        <p:dataTable value="#{fornecedorController.items}" var="item"
                                     emptyMessage="#{bundle_scm.PesquisaItemInexistente }"
                                     paginatorPosition="bottom" rows="10" paginator="true" 
                                     rowKey="#{item.idFornecedor}" selectionMode="single">
<!--Fim de forma padrão de abertura da página listar. Copiar e colar em todas as outras esse trecho até aqui-->
                    
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="CPF/CNPJ"/>
                                </f:facet>
                                <h:outputText value="#{item.nrCpfCnpjFornecedor}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Nome"/>
                                </f:facet>
                                <h:outputText value="#{item.nmFornecedor}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Endereço"/>
                                </f:facet>
                                <h:outputText value="#{item.endereco}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Cidade"/>
                                </f:facet>
                                <h:outputText value="#{item.cidade}"/>
                            </p:column>

                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Telefone"/>
                                </f:facet>
                                <h:outputText value="#{item.telefone}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="E-mail"/>
                                </f:facet>
                                <h:outputText value="#{item.email}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Contato"/>
                                </f:facet>
                                <h:outputText value="#{item.contato}"/>
                            </p:column>
 
<!--Fechamento padrão de página listar. Copiar e colar esse trecho até o final-->                                 
                            <p:column headerText="Ações" width="100">
                                <h:commandLink action="#{fornecedorController.prepareEdit}">
                                    <p:graphicImage value="/resources/images/Text-Edit-icon.png" title="Editar"/>
                                </h:commandLink>
                                <h:commandLink action="#{fornecedorController.destroy}" >
                                    <p:graphicImage value="/resources/images/database-delete-icon.png" title="Deletar"/>
                                </h:commandLink>
                            </p:column>

                        </p:dataTable>
                    </h:panelGroup>
                    <br />
                    <p:commandButton id="button_incluinovo" 
                        action="#{fornecedorController.prepareCreate}" 
                        icon="ui-icon-folder-open" 
                        value="Novo"
                        ajax="false" onclick="form.target='_self'"/>               
                </h:form>
            </p:fieldset>
        </h:body>
    </ui:define>
</ui:composition>
